@using NBlog.Server.Application;
@using nBlog.sdk.ArticlePackage;

<div class="top-row px-4 fixed-top">
    <div class="container">
        <nav class="navbar justify-content-between">
            <div class="row">
                <a class="btn-link-icon" href="">
                    <img src="/Images/khicon.svg" class="img-fluid program-icon" />
                </a>
                <div>
                    <ul style="list-style-type:none;margin:0px;padding:0px;">
                        <li class="font-weight-bold">Exploration</li>
                        <li class="font-weight-bold program-color">Experimentation</li>
                    </ul>
                </div>
            </div>
            <div class="form-inline">
                @if (!ShowSearch)
                {
                    <NavLink class="program-top-menu-item program-color" href="@NavRoutes.GotoIndex()">Home</NavLink>
                    <NavLink class="program-top-menu-item" href="@NavRoutes.GotoArticleArea(ArticleArea.Article)">Articles</NavLink>
                    <NavLink class="program-top-menu-item" href="@NavRoutes.GotoArticleArea(ArticleArea.Project)">Projects</NavLink>
                    <NavLink class="program-top-menu-item" href="@NavRoutes.GotoArticle((string)NavRoutes.ArticleIds.Customers)">Customers</NavLink>
                    <NavLink class="program-top-menu-item" href="@NavRoutes.GotoAboutMe()">For Hire</NavLink>
                    <NavLink class="program-top-menu-item" href="@NavRoutes.GotoContact()">Contact</NavLink>

                    <NavLink @onclick="ToggleSearch" href=""><span class="oi oi-magnifying-glass program-color"></span></NavLink>
                }
                else
                {
                    <div>
                        <SearchBar OnCloseCallback="@CloseHandler" />
                    </div>
                }
            </div>
        </nav>
    </div>
</div>

@code {
    private bool ShowSearch { get; set; } = false;

    private void ToggleSearch() => ShowSearch = true;

    private void CloseHandler() => ShowSearch = false;
}